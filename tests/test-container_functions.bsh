#!/usr/bin/env bash

. "$(dirname "${BASH_SOURCE[0]}")/testlib.bsh"
. "$(dirname "${BASH_SOURCE[0]}")/test_utils.bsh"
VSI_COMMON_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")/.."; pwd)"
. "${VSI_COMMON_DIR}/linux/container_functions.bsh"

begin_test "Translate paths"
(
  setup_test

  # Simple
  [ "$(translate_path /foo/boo /foo /bar)" = "/bar/boo" ]

  # Multiple
  [ "$(translate_path /foo/boo /grey /gray /foo /bar /stuff /things)" = "/bar/boo" ]

  # Miss
  [ "$(translate_path /food/boo /grey /gray /foo /bar /stuff /things)" = "/food/boo" ]

  # Windows Escaped style
  [ "$(translate_path //foo/boo /grey /gray /foo /bar /stuff /things)" = "/bar/boo" ]
)
end_test
