===================
Container Functions
===================

.. default-domain:: bash

.. file:: container_functions.bsh

Common functionality for adding extra just feature to container services

.. function:: container_environment_override

:Arguments: * ``${1}`` - The name of a function that will take two arguments, variable name and variable value and write to the corresponding configuration file.
:Arguments: * ``JUST_PROJECT_PREFIX`` - The Just project prefix value
            * ``JUST_DISABLE_ENVIRONMENT_SWAP`` -
            * ``EXPORT_DOCKER`` -

Sets up a number of environment variables to make containers behave the way we want them to

* ``JUST_HOST_WINDOWS`` - Set to ``1`` on windows, else unset. This is primarily used in the entrypoint to remove a second slash at the beginning of environment variables that have to be placed there due to limitations in MINGW/Cygwin. These double slashes have on occasion caused apps to fail, so removing them becomes important.
* ``${JUST_PROJECT_PREFIX}_DOCKER`` - variables are swapped

.. seealso::

  :func:`docker_compose_override generate_docker_compose_override`
    Uses this for environment variables

